(this["webpackJsonpfidelity-portfolio"]=this["webpackJsonpfidelity-portfolio"]||[]).push([[0],{21:function(e,t,r){e.exports={app:"app_app__3Pene"}},28:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),i=r.n(c),a=r(6),s=r.n(a),o=(r(28),r(3)),l=r(5),d=r(9),u=r(18),g=r(11),b=(r(34),r(35),r(36),r(21)),h=r.n(b),j=r(22),m=(r(38),function(e){var t=Object(j.a)({mode:"onBlur"}),r=t.register,c=t.handleSubmit;return Object(n.jsx)("div",{className:"rules-editor ",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-heading bg-dark text-light d-flex p-2",children:"Rules Editor"}),Object(n.jsxs)("div",{className:"card-body",children:["The stock portfolio table will highlight cells below the minimum or above the maximum values enmtered here, scoring them based on the weight given. Scoring will be positive 'Weight' value if the direction is set to 'High' and above 'Max', or negative if below the 'Min'.  Scoring will be negative 'Weight' value if the direction is set to 'Low' and above the 'Max', or positive if below the 'Min'.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("form",{onSubmit:c((function(t){var r={dividendPayoutPercentage:{highValueBetter:"true"===t.dividendPayoutPercentageHighValueBetter,min:Number(t.dividendPayoutPercentageMin),max:Number(t.dividendPayoutPercentageMax),weight:Number(t.dividendPayoutPercentageWeight)},dividendYieldPercentage:{highValueBetter:"true"===t.dividendYieldPercentageHighValueBetter,min:Number(t.dividendYieldPercentageMin),max:Number(t.dividendYieldPercentageMax),weight:Number(t.dividendYieldPercentageWeight)},industryPercentage:{highValueBetter:"true"===t.industryPercentageHighValueBetter,min:Number(t.industryPercentageMin),max:Number(t.industryPercentageMax),weight:Number(t.industryPercentageWeight)},overallScore:{highValueBetter:!0,min:Number(t.overallScoreMin),max:Number(t.overallScoreMax)},priceEarningsRatio:{highValueBetter:"true"===t.priceEarningsRatioHighValueBetter,min:Number(t.priceEarningsRatioMin),max:Number(t.priceEarningsRatioMax),weight:Number(t.priceEarningsRatioWeight)},sectorPercentage:{highValueBetter:"true"===t.sectorPercentageHighValueBetter,min:Number(t.sectorPercentageMin),max:Number(t.sectorPercentageMax),weight:Number(t.sectorPercentageWeight)},stockPercentage:{highValueBetter:"true"===t.stockPercentageHighValueBetter,min:Number(t.stockPercentageMin),max:Number(t.stockPercentageMax),weight:Number(t.stockPercentageWeight)},summaryScore:{weight:Number(t.summaryScoreWeight)}};e.onSubmit(r)})),children:[Object(n.jsxs)("table",{id:"stockTable",className:"table table-condensed table-striped table-hover font-size-small",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"name-column",children:"Rule Name"}),Object(n.jsx)("th",{children:"Min"}),Object(n.jsx)("th",{children:"Max"}),Object(n.jsx)("th",{children:"Direction"}),Object(n.jsx)("th",{children:"Weight"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Summary Score"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"summaryScoreWeight",type:"number",defaultValue:e.scoringRules.summaryScore.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Price / Earnings Ratio (P/E)"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"priceEarningsRatioMin",type:"number",defaultValue:e.scoringRules.priceEarningsRatio.min,min:"1",max:"100",required:!0,step:"0.1",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"priceEarningsRatioMax",type:"number",defaultValue:e.scoringRules.priceEarningsRatio.max,min:"1",max:"100",required:!0,step:"0.1",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"priceEarningsRatioHighValueBetter",defaultValue:e.scoringRules.priceEarningsRatio.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"priceEarningsRatioWeight",type:"number",defaultValue:e.scoringRules.priceEarningsRatio.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Dividend Payout Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendPayoutPercentageMin",type:"number",defaultValue:e.scoringRules.dividendPayoutPercentage.min,min:"0.01",max:"1",required:!0,step:"0.01",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendPayoutPercentageMax",type:"number",defaultValue:e.scoringRules.dividendPayoutPercentage.max,min:"0.01",max:"1",required:!0,step:"0.01",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"dividendPayoutPercentageHighValueBetter",defaultValue:e.scoringRules.dividendPayoutPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendPayoutPercentageWeight",type:"number",defaultValue:e.scoringRules.dividendPayoutPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Dividend Yield Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendYieldPercentageMin",type:"number",defaultValue:e.scoringRules.dividendYieldPercentage.min,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendYieldPercentageMax",type:"number",defaultValue:e.scoringRules.dividendYieldPercentage.max,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"dividendYieldPercentageHighValueBetter",defaultValue:e.scoringRules.dividendYieldPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendYieldPercentageWeight",type:"number",defaultValue:e.scoringRules.dividendYieldPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Stock Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"stockPercentageMin",type:"number",defaultValue:e.scoringRules.stockPercentage.min,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"stockPercentageMax",type:"number",defaultValue:e.scoringRules.stockPercentage.max,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"stockPercentageHighValueBetter",defaultValue:e.scoringRules.stockPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"stockPercentageWeight",type:"number",defaultValue:e.scoringRules.stockPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Sector Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"sectorPercentageMin",type:"number",defaultValue:e.scoringRules.sectorPercentage.min,min:"0.01",max:"1",required:!0,step:"0.01",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"sectorPercentageMax",type:"number",defaultValue:e.scoringRules.sectorPercentage.max,min:"0.01",max:"1",required:!0,step:"0.01",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"sectorPercentageHighValueBetter",defaultValue:e.scoringRules.sectorPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"sectorPercentageWeight",type:"number",defaultValue:e.scoringRules.sectorPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Industry Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"industryPercentageMin",type:"number",defaultValue:e.scoringRules.industryPercentage.min,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"industryPercentageMax",type:"number",defaultValue:e.scoringRules.industryPercentage.max,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"industryPercentageHighValueBetter",defaultValue:e.scoringRules.industryPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"industryPercentageWeight",type:"number",defaultValue:e.scoringRules.industryPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Overall Score"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"overallScoreMin",type:"number",defaultValue:e.scoringRules.overallScore.min,min:"0",max:"100",required:!0,step:"1",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"overallScoreMax",type:"number",defaultValue:e.scoringRules.overallScore.max,min:"0",max:"100",required:!0,step:"1",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})})]})]})]}),Object(n.jsxs)("button",{className:"btn btn-success",type:"submit",children:[Object(n.jsx)("span",{className:"fa fa-check"})," Save"]}),"\xa0"]})]})]})})}),x={filter:function(e,t){if(null!=e&&null!=t&&t.length>0){var r=t.toLowerCase();return e.filter((function(e){for(var t in e)if("string"===typeof e[t]&&-1!==e[t].toLowerCase().indexOf(r))return!0;return!1}))}return e},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},isDate:function(e){return!!e&&("[object Date]"===toString.call(e)||("function"===typeof e.replace&&e.replace(/^\s+|\s+$/gm,""),/(^\d{1,4}[.|\\/|-]\d{1,2}[.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/.test(e)))},jsonParseNumbers:function(e){return JSON.parse(e,(function(e,t){return"object"===typeof t||isNaN(t)?t:Number(t)}))},sort:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&t&&e.sort((function(e,n){var c=e[t],i=n[t];return x.isDate(c)&&x.isDate(i)&&(c=new Date(e[t]),i=new Date(n[t])),c<i?r?1:-1:i<c?r?-1:1:0}))}},f=(r(39),function(e){var t=Object(c.useState)(!0),r=Object(l.a)(t,2),i=r[0],a=r[1],s=function(e,t){var r=0;return e&&(e>t.max?r=t.highValueBetter?t.weight:-t.weight:e<t.min&&(r=t.highValueBetter?-t.weight:t.weight)),r},o=function(t){a(!i),x.sort(e.portfolio.stocks,t,i)};return Object(n.jsx)("div",{className:"stock-chart",children:Object(n.jsxs)("div",{className:"card",id:"chart",children:[Object(n.jsxs)("div",{className:"card-heading bg-dark text-light",children:[Object(n.jsx)("button",{className:"btn btn-secondary btn-rules",onClick:e.onRules,children:" Rules"}),Object(n.jsx)("span",{children:"Stock Portfolio"})]}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("div",{className:"table-responsive",children:Object(n.jsxs)("table",{id:"stockTable",className:"table table-condensed table-striped table-hover font-size-small",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{onClick:function(){return o("symbol")},children:"Symbol"}),Object(n.jsx)("th",{onClick:function(){return o("score")},children:"Score"}),Object(n.jsx)("th",{onClick:function(){return o("description")},children:"Description"}),Object(n.jsx)("th",{onClick:function(){return o("sector")},children:"Sector"}),Object(n.jsx)("th",{onClick:function(){return o("industry")},children:"Industry"}),Object(n.jsx)("th",{onClick:function(){return o("lastPrice")},children:"Last Price"}),Object(n.jsx)("th",{onClick:function(){return o("quantity")},children:"Quantity"}),Object(n.jsx)("th",{onClick:function(){return o("earningsPerShare")},children:"EPS"}),Object(n.jsx)("th",{onClick:function(){return o("dividendPerShare")},children:"Dividend"}),Object(n.jsx)("th",{onClick:function(){return o("costBasis")},children:"Cost Basis"}),Object(n.jsx)("th",{onClick:function(){return o("currentValue")},children:"Current Value"}),Object(n.jsx)("th",{onClick:function(){return o("summaryScore")},children:"Summary Score"}),Object(n.jsx)("th",{onClick:function(){return o("priceEarningsRatio")},children:"P/E"}),Object(n.jsx)("th",{onClick:function(){return o("dividendPayoutPercentage")},children:"Div Payout %"}),Object(n.jsx)("th",{onClick:function(){return o("dividendYieldPercentage")},children:"Div Yield %"}),Object(n.jsx)("th",{onClick:function(){return o("stockPercentage")},children:"Stock %"}),Object(n.jsx)("th",{onClick:function(){return o("sectorPercentage")},children:"Sector %"}),Object(n.jsx)("th",{onClick:function(){return o("industryPercentage")},children:"Industry %"})]})}),Object(n.jsx)("tbody",{children:e.portfolio.stocks.map((function(t,r){var c=function(t){var r=0,n=e.scoringRules.summaryScore.weight;switch(t.summaryScore){case"Very Bullish":r+=2*n;break;case"Bullish":r+=n;break;case"Bearish":r-=n;break;case"Very Bearish":r-=2*n}return r}(t),i=s(t.priceEarningsRatio,e.scoringRules.priceEarningsRatio),a=s(t.dividendPayoutPercentage,e.scoringRules.dividendPayoutPercentage),o=s(t.dividendYieldPercentage,e.scoringRules.dividendYieldPercentage),l=s(t.stockPercentage,e.scoringRules.stockPercentage),d=s(t.sectorPercentage,e.scoringRules.sectorPercentage),u=s(t.industryPercentage,e.scoringRules.industryPercentage),g=0;return t.earningsPerShare&&(g=c+i+a+o+l+d+u),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.symbol}),Object(n.jsx)("td",{className:g>e.scoringRules.overallScore.max?"good-background":g<e.scoringRules.overallScore.min?"bad-background":null,children:g}),Object(n.jsx)("td",{children:t.description}),Object(n.jsx)("td",{children:t.sector?t.sector.replace(/["]/g,""):null}),Object(n.jsx)("td",{children:t.industry?t.industry.replace(/["]/g,""):null}),Object(n.jsxs)("td",{children:["$",t.lastPrice.toFixed(2)]}),Object(n.jsx)("td",{children:t.quantity}),Object(n.jsx)("td",{children:t.earningsPerShare?"$".concat(t.earningsPerShare.toFixed(2)):null}),Object(n.jsx)("td",{children:t.dividendPerShare?"$".concat(t.dividendPerShare.toFixed(2)):null}),Object(n.jsx)("td",{children:t.costBasis?"$".concat(t.costBasis.toFixed(2)):null}),Object(n.jsx)("td",{children:t.currentValue?"$".concat(t.currentValue.toFixed(2)):null}),Object(n.jsx)("td",{className:c>0?"good-background":c<0?"bad-background":null,children:t.summaryScore}),Object(n.jsx)("td",{className:i>0?"good-background":i<0?"bad-background":null,children:t.priceEarningsRatio?t.priceEarningsRatio.toFixed(2):null}),Object(n.jsx)("td",{className:a>0?"good-background":a<0?"bad-background":null,children:t.dividendPayoutPercentage?(100*t.dividendPayoutPercentage).toFixed(0):null}),Object(n.jsx)("td",{className:o>0?"good-background":o<0?"bad-background":null,children:t.dividendYieldPercentage?(100*t.dividendYieldPercentage).toFixed(2):null}),Object(n.jsx)("td",{className:l>0?"good-background":l<0?"bad-background":null,children:t.stockPercentage?(100*t.stockPercentage).toFixed(2):null}),Object(n.jsx)("td",{className:d>0?"good-background":d<0?"bad-background":null,children:t.sectorPercentage?(100*t.sectorPercentage).toFixed(2):null}),Object(n.jsx)("td",{className:u>0?"good-background":u<0?"bad-background":null,children:t.industryPercentage?(100*t.industryPercentage).toFixed(2):null})]},r)}))})]})})}),Object(n.jsxs)("div",{className:"card-footer d-flex p-2 justify-content-around",children:[Object(n.jsx)("span",{className:"bad-text",children:"Orange denotes a negative score"}),Object(n.jsx)("span",{className:"good-text",children:"Blue denotes a positive score"})]})]})})}),p=r(12),O=null,P=localStorage.getItem("portfolio");O=P?x.jsonParseNumbers(P):{currentValue:0,sectors:[],stocks:[]};var v=null,y=localStorage.getItem("scoringRules");v=y?x.jsonParseNumbers(y):{dividendPayoutPercentage:{highValueBetter:!1,min:.35,max:.6,weight:2},dividendYieldPercentage:{highValueBetter:!0,min:.015,max:.025,weight:1},industryPercentage:{highValueBetter:!1,min:.002,max:.008,weight:1},overallScore:{highValueBetter:!0,min:0,max:3},priceEarningsRatio:{highValueBetter:!1,min:16,max:25,weight:2},sectorPercentage:{highValueBetter:!1,min:.02,max:.04,weight:1},stockPercentage:{highValueBetter:!1,min:.002,max:.005,weight:1},summaryScore:{weight:1}};var N=Object(p.b)({name:"app",initialState:{portfolio:O,scoringRules:v},reducers:{updatePortfolio:function(e,t){e.portfolio=t.payload,localStorage.setItem("portfolio",JSON.stringify(e.portfolio))},updateScoringRules:function(e,t){e.scoringRules=t.payload,localStorage.setItem("scoringRules",JSON.stringify(e.scoringRules))}}}),k=N.actions,V=k.updatePortfolio,S=k.updateScoringRules,R=function(e){return e.app.portfolio},B=function(e){return e.app.scoringRules},w=N.reducer,C=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),r=t[0],i=t[1];g.a.configure();var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e?e.toFixed(t):""},s=function(e,t){if(e){if(e>t.max)return t.highValueBetter?t.weight:-t.weight;if(e<t.min)return t.highValueBetter?-t.weight:t.weight}return 0},b=function(e){var t=0;return e.earningsPerShare&&(t+=s(e.dividendPayoutPercentage,P.dividendPayoutPercentage),t+=s(e.dividendYieldPercentage,P.dividendYieldPercentage),t+=s(e.industryPercentage,P.industryPercentage),t+=s(e.priceEarningsRatio,P.priceEarningsRatio),t+=s(e.sectorPercentage,P.sectorPercentage),t+=s(e.stockPercentage,P.stockPercentage),t+=j(e)),t},j=function(e){var t=0,r=P.summaryScore.weight;switch(e.summaryScore){case"Very Bullish":t+=2*r;break;case"Bullish":t+=r;break;case"Bearish":t-=r;break;case"Very Bearish":t-=2*r}return t},x=function(e){for(var t=e.split(","),r=[],n=0;n<t.length;++n)if(t[n].indexOf('"')>=0){for(var c=-1,i=t[n],a=n+1;a<t.length;++a)if(t[a].indexOf('"')>=0){c=a;break}if(-1!==c){for(var s=n+1;s<=c;++s)i=i+","+t[s];r.push(i),n=c}else r.push(t[n])}else r.push(t[n]);return r},p=Object(d.b)(),O=Object(d.c)(R),P=Object(d.c)(B);return Object(n.jsxs)("div",{className:"container-fluid ".concat(h.a.app),children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("label",{className:"btn btn-info",onChange:function(e){if(e.target.files&&1===e.target.files.length){var t=new FileReader;t.onloadend=function(){var e=t.result.toString().split("\n");if("Account Name"===e[0].substring(0,12))!function(e){for(var t={currentValue:0,sectors:[],stocks:[]},r=function(r){if("\r"===(c=x(e[r]))[0])return"break";var n={symbol:c[1],description:c[2].split("USD")[0].split(" COM")[0].split(" CORP")[0].split(" INC")[0],quantity:Number(c[3].replace(/[$%",]/g,"")),lastPrice:Number(c[4].replace(/[$%",]/g,"")),currentValue:Number(c[6].replace(/[$%",]/g,"")),costBasis:Number(c[12].replace(/[$%",]/g,""))},i=t.stocks.find((function(e){return e.symbol===n.symbol}));i?(i.quantity+=n.quantity,i.costBasis+=n.costBasis,i.currentValue+=n.currentValue):t.stocks.push(n)},n=1;n<e.length;n++){var c;if("break"===r(n))break}t.stocks.sort((function(e,t){return e.symbol<t.symbol?-1:t.symbol<e.symbol?1:0})),console.log(t),p(V(t))}(e);else{if(0===O.stocks.length)return void g.a.warn("Portfolio overview must be imported first",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});"Symbol,Company Name,Security Type"===e[0].substring(0,33)?function(e){O=Object(u.cloneDeep)(O);for(var t=function(t){var r=(n=x(e[t]))[0];if("\r"===r)return"break";var c=O.stocks.find((function(e){return e.symbol===r}));c&&(c.earningsPerShare=c.lastPrice/Number(n[5].replace(/[$%",]/g,"")),c.dividendPerShare=Number(n[4].replace(/[$%",]/g,""))*c.lastPrice/400,c.summaryScore=n[7],c.priceEarningsRatio=c.lastPrice/c.earningsPerShare,c.dividendPayoutPercentage=4*c.dividendPerShare/c.earningsPerShare,c.dividendYieldPercentage=4*c.dividendPerShare/c.lastPrice)},r=1;r<e.length;r++){var n;if("break"===t(r))break}p(V(O))}(e):"Symbol,Company Name,Security Price"===e[0].substring(0,34)&&function(e){(O=Object(u.cloneDeep)(O)).sectors=[];for(var t=function(t){var r=(n=x(e[t]))[0];if("\r"===r)return"break";var c=O.stocks.find((function(e){return e.symbol===r}));if(c){c.sector=n[7],c.industry=n[8];var i=O.sectors.find((function(e){return e.name===c.sector}));if(i){i.currentValue+=c.currentValue;var a=i.industries.find((function(e){return e.name===c.industry}));a?a.currentValue+=c.currentValue:i.industries.push({name:c.industry,currentValue:c.currentValue})}else O.sectors.push({name:c.sector,currentValue:c.currentValue,industries:[{name:c.industry,currentValue:c.currentValue}]})}},r=1;r<e.length;r++){var n;if("break"===t(r))break}O.currentValue=0;var c,i=Object(o.a)(O.stocks);try{for(i.s();!(c=i.n()).done;){var a=c.value;O.currentValue+=a.currentValue}}catch(g){i.e(g)}finally{i.f()}var s,l=Object(o.a)(O.stocks);try{var d=function(){var e=s.value;if(e.stockPercentage=e.currentValue/O.currentValue,e.sector){var t=O.sectors.find((function(t){return t.name===e.sector})),r=t.industries.find((function(t){return t.name===e.industry}));e.sectorPercentage=t.currentValue/O.currentValue,e.industryPercentage=r.currentValue/O.currentValue}};for(l.s();!(s=l.n()).done;)d()}catch(g){l.e(g)}finally{l.f()}p(V(O))}(e)}g.a.success("File imported",{position:"top-right",autoClose:500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!1})},t.readAsText(e.target.files[0])}else g.a.error("No file selected",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},children:["Import ",Object(n.jsx)("input",{type:"file",multiple:!1,accept:".csv",hidden:!0})]}),"\xa0",Object(n.jsx)("label",{className:"btn btn-info",onClick:function(e){var t,r="Symbol,Score,Description,Sector,Industry,Last Price,Quantity,EPS,Dividend,Cost Basis,Current Value,Summary Score,P/E,Dividend Payout %,Dividend Yield %,Stock %,Sector %,Industry %\n",n=Object(o.a)(O.stocks);try{for(n.s();!(t=n.n()).done;){var c=t.value,i=b(c);r+="".concat(c.symbol,",").concat(i,",").concat(c.description,",").concat(c.sector||"",",").concat(c.industry||"",",").concat(a(c.lastPrice),",").concat(a(c.quantity),",").concat(a(c.earningsPerShare),",").concat(a(c.dividendPerShare),",").concat(a(c.costBasis),",").concat(a(c.currentValue),",").concat(c.summaryScore||"",",").concat(a(c.priceEarningsRatio),",").concat(a(c.dividendPayoutPercentage),",").concat(a(c.dividendYieldPercentage,4),",").concat(a(c.stockPercentage,4),",").concat(a(c.sectorPercentage,4),",").concat(a(c.industryPercentage,4),"\n")}}catch(u){n.e(u)}finally{n.f()}var s=new Blob([r],{type:"text/plain"}),l=URL.createObjectURL(s),d=document.createElement("a");d.href=l,d.download="fidelity-portfolio.csv",document.body.appendChild(d),d.click(),document.body.removeChild(d)},children:"Export"})]}),r?Object(n.jsx)(m,{scoringRules:P,onSubmit:function(e){return function(e){p(S(e)),i(!1)}(e)}}):null,O.stocks.length>0?Object(n.jsx)(f,{portfolio:O,scoringRules:P,onRules:function(){i(!r)}}):null]})},M=Object(p.a)({reducer:{app:w}}),E=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,43)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),i(e),a(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(d.a,{store:M,children:Object(n.jsx)(C,{})})}),document.getElementById("root")),E()}},[[40,1,2]]]);
//# sourceMappingURL=main.d4a0032f.chunk.js.map