(this["webpackJsonpfidelity-portfolio"]=this["webpackJsonpfidelity-portfolio"]||[]).push([[0],{22:function(e,t,r){e.exports={app:"app_app__3Pene"}},28:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(1),i=r.n(c),a=r(6),s=r.n(a),l=(r(28),r(3)),o=r(5),d=r(9),u=r(19),h=r(10),j=(r(34),r(35),r(36),r(22)),g=r.n(j),b=r(16),m=(r(38),function(e){if(0===e.stocks.length)return Object(n.jsx)("div",{className:"getting-started",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-heading bg-dark text-light p-2",children:"Step 1"}),Object(n.jsxs)("div",{className:"card-body",children:["From Fidelity's website, ",Object(n.jsx)("a",{href:"https://oltx.fidelity.com/ftgw/fbc/oftop/portfolio#positions",target:"_blank",rel:"noreferrer",children:"download your Profile's Positions"}),' "Overview" data and import it into this application.']})]})});if(e.stocks.find((function(e){return e.sector||e.summaryScore}))){var t=e.stocks.find((function(e){return e.summaryScore})),r=e.stocks.find((function(e){return e.sector}));return t?r?null:Object(n.jsx)("div",{className:"getting-started",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-heading bg-dark text-light d-flex p-2",children:"Step 3"}),Object(n.jsxs)("div",{className:"card-body",children:["Import the saved screen's ",Object(n.jsx)("b",{children:'"Basic Facts"'})," data file.  This data will merge together with your portfolio data"]})]})}):Object(n.jsx)("div",{className:"getting-started",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-heading bg-dark text-light d-flex p-2",children:"Step 3"}),Object(n.jsxs)("div",{className:"card-body",children:["Import the saved screen's ",Object(n.jsx)("b",{children:'"Search Criteria"'})," data file.  This data will merge together with your portfolio data"]})]})})}return Object(n.jsx)("div",{className:"getting-started",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-heading bg-dark text-light d-flex p-2",children:"Step 2"}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("ol",{children:[Object(n.jsxs)("li",{children:["From Fidelity's website ",Object(n.jsx)("a",{href:"https://research2.fidelity.com/fidelity/screeners/commonstock/landing.asp?",target:"_blank",rel:"noreferrer",children:'load existing or create a new "Screen"'})," with the following criteria and order, as the order they are added determines the order columns appear in the resulting data flie"]}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("b",{children:'"Company Value - P/E - Price/TTM Earnings"'}),' choosing all categories "Very Low" through "Very High"']}),Object(n.jsxs)("li",{children:[Object(n.jsx)("b",{children:'"Analyst Opinions - Equity Summary Score from StarMine from Fefinitiv"'}),' choosing all categories "Very Bearish" through "Very Bullish"']}),Object(n.jsxs)("li",{children:[Object(n.jsx)("b",{children:'"Basic Company Facts / Index"'}),' choosing all 3 indexes "DJIA", "NASDAQ 100" and "S&P 500"']})]}),Object(n.jsx)("li",{children:"Optionally, add up to 5 stocks manually that may not have been returned from the search results"}),Object(n.jsx)("li",{children:'Select "Save to My Screens" for later reuse'}),Object(n.jsx)("li",{children:'Download the Screen\'s "Search Criteria" and "Basic Facts" data.  Data will be saved in Excel format, but this application needs the data in CSV format.'}),Object(n.jsx)("li",{children:'Open the file in Excel and save each of the two tabs as separate "CSV (Comma delimited) (*.csv)" files.  "SaveAs" is disabled unless "enable Editing" has first been selected.'}),Object(n.jsx)("li",{children:'Import the two previous saved Screen "Search Criteria" and "Basic Facts" data files.  This data will merge together with your portfolio data'})]})})]})})}),x=(r(39),function(e){var t=Object(b.a)({mode:"onBlur"}),r=t.register,c=t.handleSubmit;return Object(n.jsx)("div",{className:"rules-editor",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-heading bg-dark text-light d-flex p-2",children:"Rules Editor"}),Object(n.jsxs)("div",{className:"card-body",children:["The stock portfolio table will highlight cells below the minimum or above the maximum values entered here, scoring them based on the weight given. Direction impacts the score as follows:",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"High"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Weight added to score when value > Max"}),Object(n.jsx)("li",{children:"Weight removed from score when value < Min"})]}),Object(n.jsx)("b",{children:"Low"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Weight added to score when value < Min"}),Object(n.jsx)("li",{children:"Weight removed from score when value > Max"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("form",{onSubmit:c((function(t){var r={dividendPayoutPercentage:{highValueBetter:"true"===t.dividendPayoutPercentageHighValueBetter,min:Number(t.dividendPayoutPercentageMin),max:Number(t.dividendPayoutPercentageMax),weight:Number(t.dividendPayoutPercentageWeight)},dividendYieldPercentage:{highValueBetter:"true"===t.dividendYieldPercentageHighValueBetter,min:Number(t.dividendYieldPercentageMin),max:Number(t.dividendYieldPercentageMax),weight:Number(t.dividendYieldPercentageWeight)},industryPercentage:{highValueBetter:"true"===t.industryPercentageHighValueBetter,min:Number(t.industryPercentageMin),max:Number(t.industryPercentageMax),weight:Number(t.industryPercentageWeight)},overallScore:{highValueBetter:!0,min:Number(t.overallScoreMin),max:Number(t.overallScoreMax)},priceEarningsRatio:{highValueBetter:"true"===t.priceEarningsRatioHighValueBetter,min:Number(t.priceEarningsRatioMin),max:Number(t.priceEarningsRatioMax),weight:Number(t.priceEarningsRatioWeight)},sectorPercentage:{highValueBetter:"true"===t.sectorPercentageHighValueBetter,min:Number(t.sectorPercentageMin),max:Number(t.sectorPercentageMax),weight:Number(t.sectorPercentageWeight)},stockPercentage:{highValueBetter:"true"===t.stockPercentageHighValueBetter,min:Number(t.stockPercentageMin),max:Number(t.stockPercentageMax),weight:Number(t.stockPercentageWeight)},summaryScore:{weight:Number(t.summaryScoreWeight)}};e.onSubmit(r)})),children:[Object(n.jsxs)("table",{id:"stockTable",className:"table table-condensed table-striped table-hover font-size-small",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"name-column",children:"Rule Name"}),Object(n.jsx)("th",{children:"Min"}),Object(n.jsx)("th",{children:"Max"}),Object(n.jsx)("th",{children:"Direction"}),Object(n.jsx)("th",{children:"Weight"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Summary Score"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"summaryScoreWeight",type:"number",defaultValue:e.scoringRules.summaryScore.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Price / Earnings Ratio (P/E)"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"priceEarningsRatioMin",type:"number",defaultValue:e.scoringRules.priceEarningsRatio.min,min:"1",max:"100",required:!0,step:"0.1",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"priceEarningsRatioMax",type:"number",defaultValue:e.scoringRules.priceEarningsRatio.max,min:"1",max:"100",required:!0,step:"0.1",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"priceEarningsRatioHighValueBetter",defaultValue:e.scoringRules.priceEarningsRatio.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"priceEarningsRatioWeight",type:"number",defaultValue:e.scoringRules.priceEarningsRatio.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Dividend Payout Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendPayoutPercentageMin",type:"number",defaultValue:e.scoringRules.dividendPayoutPercentage.min,min:"0.01",max:"1",required:!0,step:"0.01",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendPayoutPercentageMax",type:"number",defaultValue:e.scoringRules.dividendPayoutPercentage.max,min:"0.01",max:"1",required:!0,step:"0.01",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"dividendPayoutPercentageHighValueBetter",defaultValue:e.scoringRules.dividendPayoutPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendPayoutPercentageWeight",type:"number",defaultValue:e.scoringRules.dividendPayoutPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Dividend Yield Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendYieldPercentageMin",type:"number",defaultValue:e.scoringRules.dividendYieldPercentage.min,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendYieldPercentageMax",type:"number",defaultValue:e.scoringRules.dividendYieldPercentage.max,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"dividendYieldPercentageHighValueBetter",defaultValue:e.scoringRules.dividendYieldPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"dividendYieldPercentageWeight",type:"number",defaultValue:e.scoringRules.dividendYieldPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Stock Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"stockPercentageMin",type:"number",defaultValue:e.scoringRules.stockPercentage.min,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"stockPercentageMax",type:"number",defaultValue:e.scoringRules.stockPercentage.max,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"stockPercentageHighValueBetter",defaultValue:e.scoringRules.stockPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"stockPercentageWeight",type:"number",defaultValue:e.scoringRules.stockPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Sector Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"sectorPercentageMin",type:"number",defaultValue:e.scoringRules.sectorPercentage.min,min:"0.01",max:"1",required:!0,step:"0.01",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"sectorPercentageMax",type:"number",defaultValue:e.scoringRules.sectorPercentage.max,min:"0.01",max:"1",required:!0,step:"0.01",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"sectorPercentageHighValueBetter",defaultValue:e.scoringRules.sectorPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"sectorPercentageWeight",type:"number",defaultValue:e.scoringRules.sectorPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Industry Percentage"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"industryPercentageMin",type:"number",defaultValue:e.scoringRules.industryPercentage.min,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"industryPercentageMax",type:"number",defaultValue:e.scoringRules.industryPercentage.max,min:"0.001",max:"1",required:!0,step:"0.001",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"industryPercentageHighValueBetter",defaultValue:e.scoringRules.industryPercentage.highValueBetter,ref:r(),children:[Object(n.jsx)("option",{value:"true",children:"High"}),Object(n.jsx)("option",{value:"false",children:"Low"})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"industryPercentageWeight",type:"number",defaultValue:e.scoringRules.industryPercentage.weight,min:"0",max:"100",required:!0,step:"1",ref:r()})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Overall Score"}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"overallScoreMin",type:"number",defaultValue:e.scoringRules.overallScore.min,min:"0",max:"100",required:!0,step:"1",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",name:"overallScoreMax",type:"number",defaultValue:e.scoringRules.overallScore.max,min:"0",max:"100",required:!0,step:"1",ref:r()})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"form-control",disabled:!0,defaultValue:"N/A"})})]})]})]}),Object(n.jsxs)("div",{className:"form-buttons",children:[Object(n.jsxs)("button",{className:"btn btn-success",type:"submit",children:[Object(n.jsx)("span",{className:"fa fa-check"})," Save"]}),"\xa0",Object(n.jsx)("button",{className:"btn btn-warning",onClick:e.onClose,children:" Cancel"}),"\xa0"]})]})]})]})})}),f={filter:function(e,t){if(null!=e&&null!=t&&t.length>0){var r=t.toLowerCase();return e.filter((function(e){for(var t in e)if("string"===typeof e[t]&&-1!==e[t].toLowerCase().indexOf(r))return!0;return!1}))}return e},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},isDate:function(e){return!!e&&("[object Date]"===toString.call(e)||("function"===typeof e.replace&&e.replace(/^\s+|\s+$/gm,""),/(^\d{1,4}[.|\\/|-]\d{1,2}[.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/.test(e)))},jsonParseNumbers:function(e){return JSON.parse(e,(function(e,t){return"object"===typeof t||isNaN(t)?t:Number(t)}))},sort:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&t&&e.sort((function(e,n){var c=e[t],i=n[t];return f.isDate(c)&&f.isDate(i)&&(c=new Date(e[t]),i=new Date(n[t])),c<i?r?1:-1:i<c?r?-1:1:0}))}},p=(r(40),function(e){var t=Object(c.useState)(!0),r=Object(o.a)(t,2),i=r[0],a=r[1],s=function(e,t){var r=0;return e&&(e>t.max?r=t.highValueBetter?t.weight:-t.weight:e<t.min&&(r=t.highValueBetter?-t.weight:t.weight)),r},l=function(t){a(!i),f.sort(e.portfolio.stocks,t,i)};return Object(n.jsx)("div",{className:"stock-chart",children:Object(n.jsxs)("div",{className:"card",id:"chart",children:[Object(n.jsxs)("div",{className:"card-heading bg-dark text-light",children:[Object(n.jsx)("button",{className:"btn btn-secondary btn-rules",onClick:e.onRules,children:" Rules"}),Object(n.jsx)("span",{children:"Stock Portfolio"})]}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("div",{className:"table-responsive",children:Object(n.jsxs)("table",{id:"stockTable",className:"table table-condensed table-striped table-hover font-size-small",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{onClick:function(){return l("symbol")},children:"Symbol"}),Object(n.jsx)("th",{onClick:function(){return l("score")},children:"Score"}),Object(n.jsx)("th",{onClick:function(){return l("description")},children:"Description"}),Object(n.jsx)("th",{onClick:function(){return l("sector")},children:"Sector"}),Object(n.jsx)("th",{onClick:function(){return l("industry")},children:"Industry"}),Object(n.jsx)("th",{onClick:function(){return l("lastPrice")},children:"Last Price"}),Object(n.jsx)("th",{onClick:function(){return l("quantity")},children:"Quantity"}),Object(n.jsx)("th",{onClick:function(){return l("earningsPerShare")},children:"EPS"}),Object(n.jsx)("th",{onClick:function(){return l("dividendPerShare")},children:"Dividend"}),Object(n.jsx)("th",{onClick:function(){return l("costBasis")},children:"Cost Basis"}),Object(n.jsx)("th",{onClick:function(){return l("currentValue")},children:"Current Value"}),Object(n.jsx)("th",{onClick:function(){return l("summaryScore")},children:"Summary Score"}),Object(n.jsx)("th",{onClick:function(){return l("priceEarningsRatio")},children:"P/E"}),Object(n.jsx)("th",{onClick:function(){return l("dividendPayoutPercentage")},children:"Div Payout %"}),Object(n.jsx)("th",{onClick:function(){return l("dividendYieldPercentage")},children:"Div Yield %"}),Object(n.jsx)("th",{onClick:function(){return l("stockPercentage")},children:"Stock %"}),Object(n.jsx)("th",{onClick:function(){return l("sectorPercentage")},children:"Sector %"}),Object(n.jsx)("th",{onClick:function(){return l("industryPercentage")},children:"Industry %"})]})}),Object(n.jsx)("tbody",{children:e.portfolio.stocks.map((function(t,r){var c=function(t){var r=0,n=e.scoringRules.summaryScore.weight;switch(t.summaryScore){case"Very Bullish":r+=2*n;break;case"Bullish":r+=n;break;case"Bearish":r-=n;break;case"Very Bearish":r-=2*n}return r}(t),i=s(t.priceEarningsRatio,e.scoringRules.priceEarningsRatio),a=s(t.dividendPayoutPercentage,e.scoringRules.dividendPayoutPercentage),l=s(t.dividendYieldPercentage,e.scoringRules.dividendYieldPercentage),o=s(t.stockPercentage,e.scoringRules.stockPercentage),d=s(t.sectorPercentage,e.scoringRules.sectorPercentage),u=s(t.industryPercentage,e.scoringRules.industryPercentage),h=0;return t.earningsPerShare&&(h=c+i+a+l+o+d+u),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.symbol}),Object(n.jsx)("td",{className:h>e.scoringRules.overallScore.max?"good-background":h<e.scoringRules.overallScore.min?"bad-background":null,children:h}),Object(n.jsx)("td",{children:t.description}),Object(n.jsx)("td",{children:t.sector?t.sector.replace(/["]/g,""):null}),Object(n.jsx)("td",{children:t.industry?t.industry.replace(/["]/g,""):null}),Object(n.jsxs)("td",{children:["$",t.lastPrice.toFixed(2)]}),Object(n.jsx)("td",{children:t.quantity}),Object(n.jsx)("td",{children:t.earningsPerShare?"$".concat(t.earningsPerShare.toFixed(2)):null}),Object(n.jsx)("td",{children:t.dividendPerShare?"$".concat(t.dividendPerShare.toFixed(2)):null}),Object(n.jsx)("td",{children:t.costBasis?"$".concat(t.costBasis.toFixed(2)):null}),Object(n.jsx)("td",{children:t.currentValue?"$".concat(t.currentValue.toFixed(2)):null}),Object(n.jsx)("td",{className:c>0?"good-background":c<0?"bad-background":null,children:t.summaryScore}),Object(n.jsx)("td",{className:i>0?"good-background":i<0?"bad-background":null,children:t.priceEarningsRatio?t.priceEarningsRatio.toFixed(2):null}),Object(n.jsx)("td",{className:a>0?"good-background":a<0?"bad-background":null,children:t.dividendPayoutPercentage?(100*t.dividendPayoutPercentage).toFixed(0):null}),Object(n.jsx)("td",{className:l>0?"good-background":l<0?"bad-background":null,children:t.dividendYieldPercentage?(100*t.dividendYieldPercentage).toFixed(2):null}),Object(n.jsx)("td",{className:o>0?"good-background":o<0?"bad-background":null,children:t.stockPercentage?(100*t.stockPercentage).toFixed(2):null}),Object(n.jsx)("td",{className:d>0?"good-background":d<0?"bad-background":null,children:t.sectorPercentage?(100*t.sectorPercentage).toFixed(2):null}),Object(n.jsx)("td",{className:u>0?"good-background":u<0?"bad-background":null,children:t.industryPercentage?(100*t.industryPercentage).toFixed(2):null})]},r)}))})]})})}),Object(n.jsxs)("div",{className:"card-footer d-flex p-2 justify-content-around",children:[Object(n.jsx)("span",{className:"bad-text",children:"Orange denotes a negative score"}),Object(n.jsx)("span",{className:"good-text",children:"Blue denotes a positive score"})]})]})})}),O=r(12),v=null,P=localStorage.getItem("portfolio");v=P?f.jsonParseNumbers(P):{currentValue:0,sectors:[],stocks:[]};var y=null,N=localStorage.getItem("scoringRules");y=N?f.jsonParseNumbers(N):{dividendPayoutPercentage:{highValueBetter:!1,min:.35,max:.6,weight:2},dividendYieldPercentage:{highValueBetter:!0,min:.015,max:.025,weight:1},industryPercentage:{highValueBetter:!1,min:.002,max:.008,weight:1},overallScore:{highValueBetter:!0,min:0,max:3},priceEarningsRatio:{highValueBetter:!1,min:16,max:25,weight:2},sectorPercentage:{highValueBetter:!1,min:.02,max:.04,weight:1},stockPercentage:{highValueBetter:!1,min:.002,max:.005,weight:1},summaryScore:{weight:1}};var k=Object(O.b)({name:"app",initialState:{portfolio:v,scoringRules:y},reducers:{updatePortfolio:function(e,t){e.portfolio=t.payload,localStorage.setItem("portfolio",JSON.stringify(e.portfolio))},updateScoringRules:function(e,t){e.scoringRules=t.payload,localStorage.setItem("scoringRules",JSON.stringify(e.scoringRules))}}}),S=k.actions,V=S.updatePortfolio,w=S.updateScoringRules,R=function(e){return e.app.portfolio},B=function(e){return e.app.scoringRules},C=k.reducer,M=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),r=t[0],i=t[1];h.a.configure();var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e?e.toFixed(t):""},s=function(e,t){if(e){if(e>t.max)return t.highValueBetter?t.weight:-t.weight;if(e<t.min)return t.highValueBetter?-t.weight:t.weight}return 0},j=function(e){var t=0;return e.earningsPerShare&&(t+=s(e.dividendPayoutPercentage,P.dividendPayoutPercentage),t+=s(e.dividendYieldPercentage,P.dividendYieldPercentage),t+=s(e.industryPercentage,P.industryPercentage),t+=s(e.priceEarningsRatio,P.priceEarningsRatio),t+=s(e.sectorPercentage,P.sectorPercentage),t+=s(e.stockPercentage,P.stockPercentage),t+=b(e)),t},b=function(e){var t=0,r=P.summaryScore.weight;switch(e.summaryScore){case"Very Bullish":t+=2*r;break;case"Bullish":t+=r;break;case"Bearish":t-=r;break;case"Very Bearish":t-=2*r}return t},f=function(e){for(var t=e.split(","),r=[],n=0;n<t.length;++n)if(t[n].indexOf('"')>=0){for(var c=-1,i=t[n],a=n+1;a<t.length;++a)if(t[a].indexOf('"')>=0){c=a;break}if(-1!==c){for(var s=n+1;s<=c;++s)i=i+","+t[s];r.push(i),n=c}else r.push(t[n])}else r.push(t[n]);return r},O=Object(d.b)(),v=Object(d.c)(R),P=Object(d.c)(B);return Object(n.jsxs)("div",{className:"container-fluid ".concat(g.a.app),children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("label",{className:"btn btn-info",onChange:function(e){if(e.target.files&&1===e.target.files.length){var t=new FileReader;t.onloadend=function(){var e=t.result.toString().split("\n");if("Account Name"===e[0].substring(0,12))!function(e){for(var t={currentValue:0,sectors:[],stocks:[]},r=function(r){if("\r"===(c=f(e[r]))[0])return"break";var n={symbol:c[1],description:c[2].split("USD")[0].split(" COM")[0].split(" CORP")[0].split(" INC")[0],quantity:Number(c[3].replace(/[$%",]/g,"")),lastPrice:Number(c[4].replace(/[$%",]/g,"")),currentValue:Number(c[6].replace(/[$%",]/g,"")),costBasis:Number(c[12].replace(/[$%",]/g,""))},i=t.stocks.find((function(e){return e.symbol===n.symbol}));i?(i.quantity+=n.quantity,i.costBasis+=n.costBasis,i.currentValue+=n.currentValue):t.stocks.push(n)},n=1;n<e.length;n++){var c;if("break"===r(n))break}t.stocks.sort((function(e,t){return e.symbol<t.symbol?-1:t.symbol<e.symbol?1:0})),console.log(t),O(V(t))}(e);else{if(0===v.stocks.length)return void h.a.warn("Portfolio overview must be imported first",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});"Symbol,Company Name,Security Type"===e[0].substring(0,33)?function(e){v=Object(u.cloneDeep)(v);for(var t=function(t){var r=(n=f(e[t]))[0];if("\r"===r)return"break";var c=v.stocks.find((function(e){return e.symbol===r}));c&&(c.earningsPerShare=c.lastPrice/Number(n[4].replace(/[$%",]/g,"")),c.summaryScore=n[5],c.priceEarningsRatio=c.lastPrice/c.earningsPerShare)},r=1;r<e.length;r++){var n;if("break"===t(r))break}O(V(v))}(e):"Symbol,Company Name,Security Price"===e[0].substring(0,34)?function(e){(v=Object(u.cloneDeep)(v)).sectors=[];for(var t=function(t){var r=(n=f(e[t]))[0];if("\r"===r)return"break";var c=v.stocks.find((function(e){return e.symbol===r}));if(c){c.dividendPerShare=Number(n[5].replace(/[$%",]/g,""))*c.lastPrice/400,c.sector=n[7],c.industry=n[8],c.dividendPayoutPercentage=4*c.dividendPerShare/c.earningsPerShare,c.dividendYieldPercentage=4*c.dividendPerShare/c.lastPrice;var i=v.sectors.find((function(e){return e.name===c.sector}));if(i){i.currentValue+=c.currentValue;var a=i.industries.find((function(e){return e.name===c.industry}));a?a.currentValue+=c.currentValue:i.industries.push({name:c.industry,currentValue:c.currentValue})}else v.sectors.push({name:c.sector,currentValue:c.currentValue,industries:[{name:c.industry,currentValue:c.currentValue}]})}},r=1;r<e.length;r++){var n;if("break"===t(r))break}v.currentValue=0;var c,i=Object(l.a)(v.stocks);try{for(i.s();!(c=i.n()).done;){var a=c.value;v.currentValue+=a.currentValue}}catch(h){i.e(h)}finally{i.f()}var s,o=Object(l.a)(v.stocks);try{var d=function(){var e=s.value;if(e.stockPercentage=e.currentValue/v.currentValue,e.sector){var t=v.sectors.find((function(t){return t.name===e.sector})),r=t.industries.find((function(t){return t.name===e.industry}));e.sectorPercentage=t.currentValue/v.currentValue,e.industryPercentage=r.currentValue/v.currentValue}};for(o.s();!(s=o.n()).done;)d()}catch(h){o.e(h)}finally{o.f()}O(V(v))}(e):h.a.warn("File header not recognized",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}h.a.success("File imported",{position:"top-right",autoClose:500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!1})},t.readAsText(e.target.files[0])}else h.a.error("No file selected",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},children:["Import ",Object(n.jsx)("input",{type:"file",multiple:!1,accept:".csv",hidden:!0})]}),"\xa0",Object(n.jsx)("label",{className:"btn btn-info",onClick:function(e){var t,r="Symbol,Score,Description,Sector,Industry,Last Price,Quantity,EPS,Dividend,Cost Basis,Current Value,Summary Score,P/E,Dividend Payout %,Dividend Yield %,Stock %,Sector %,Industry %\n",n=Object(l.a)(v.stocks);try{for(n.s();!(t=n.n()).done;){var c=t.value,i=j(c);r+="".concat(c.symbol,",").concat(i,",").concat(c.description,",").concat(c.sector||"",",").concat(c.industry||"",",").concat(a(c.lastPrice),",").concat(a(c.quantity),",").concat(a(c.earningsPerShare),",").concat(a(c.dividendPerShare),",").concat(a(c.costBasis),",").concat(a(c.currentValue),",").concat(c.summaryScore||"",",").concat(a(c.priceEarningsRatio),",").concat(a(c.dividendPayoutPercentage),",").concat(a(c.dividendYieldPercentage,4),",").concat(a(c.stockPercentage,4),",").concat(a(c.sectorPercentage,4),",").concat(a(c.industryPercentage,4),"\n")}}catch(u){n.e(u)}finally{n.f()}var s=new Blob([r],{type:"text/plain"}),o=URL.createObjectURL(s),d=document.createElement("a");d.href=o,d.download="fidelity-portfolio.csv",document.body.appendChild(d),d.click(),document.body.removeChild(d)},children:"Export"})]}),Object(n.jsx)(m,{stocks:v.stocks}),r?Object(n.jsx)(x,{scoringRules:P,onClose:function(e){i(!1)},onSubmit:function(e){return function(e){O(w(e)),i(!1)}(e)}}):null,v.stocks.length>0?Object(n.jsx)(p,{portfolio:v,scoringRules:P,onRules:function(){i(!r)}}):null]})},E=Object(O.a)({reducer:{app:C}}),q=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,44)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),i(e),a(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(d.a,{store:E,children:Object(n.jsx)(M,{})})}),document.getElementById("root")),q()}},[[41,1,2]]]);
//# sourceMappingURL=main.d52dfbd3.chunk.js.map